# 对象和类

**目录：**  
1. 面型对象特性
2. [创建一个简单的类](#create_class)
3. [实现类成员函数](#im_class)
4. [使用类](#use_class)
5. [类的构造函数和析构函数](#c_class)
10. 其他
	- [修改实现](#cpp350)

## 1.0 C++面向对象特性  
- 抽象
- 封装和数据隐藏
- 多态
- 继承
- 代码可重用性

<a id="create_class"></a>
## 2.0 创建一个简单的类
Rectangle类：
``` C++
// Rectangle.h
#ifndef RECTANGLE_H
#define RECTANGLE_H

#include <iostream>

class Rectangle		// 类定义
{
public:
	float pos_x;
	float pos_y;
	void Draw();
	void SetSize(int width,int height);

private:
	int width;
	int height;
        void SetPos(float p_x, float p_y);

};


#endif // !RECTANGLE_H
```

<a id="im_class"></a>
## 3.0 实现类成员函数
在Rectangle.cpp文件中：
``` C++
// Retangle.cpp
#include "Rectangle.h"

//cpp文件中函数默认访问属性是public
void Rectangle::Draw()
{
	std::cout << "Draw a width = "  << width <<" height = "<< height <<"  Rectangle,"
	<< "Position at "<< pos_x << "," << pos_y << " ." << std::endl;
}

void Rectangle::SetSize(int width, int height)
{	
	this->width = width;
	this->height = height;
}

// 内联函数 
inline void Rectangle::SetPos(float x, float y){
	pos_x = x;
	pos_y = y;
}

```

<a id="use_class"></a>
## 4.0 使用类
使用类可以创建类对象，创建类对象可以声明类变量，也可以用<code>new</code>为类对象分配存储空间。

``` C++
//UseClass.cpp

#include <iostream>
#include "Rectangle.h"

int main() {
			
	//声明类变量
	Rectangle r1;
	r1.Draw();
	
	//使用new加指针分配对象空间
	Rectangle *rect =new Rectangle();
	(*rect).Draw();

	return 0;
}
```

<a id="c_class"></a>
## 5.0类的构造函数和析构函数

- 类的**构造函数**是类的一种特殊的成员函数，它会在每次创建类的新对象时执行。不创建构造函数的类本身含有默认构造函数，构造函数是可以重载的，即写多个构造函数。  
- 类的**析构函数**是类的一种特殊的成员函数，它会在每次删除所创建的对象时执行。
``` C++
//Rectangle.h

class Rectangle
{
public:
	Rectangle();	//构造函数①
	~Rectangle();	// 析构函数
	Rectangle(int height, int width);	// 构造函数②
	void Draw();
	
private:
	...

};

```
构造函数实现：
``` C++
//Rectangle.cpp

#include "Rectangle.h"

Rectangle::Rectangle()
{
	this->width = 0;
	this->height = 0;
}

Rectangle::Rectangle(int height, int width):
{
	this->width = width;
	this->height = height;
}

Rectangle::~Rectangle()
{
	std::cout << "Rectangle object deleted." << std::endl;
}

```
构造函数使用：
``` C++
//UseClass.cpp

#include <iostream>
#include "Rectangle.h"

int main() {
			
	Rectangle r1 = Rectangle(3,3);
	r1.Draw();	
	
	Rectangle *rect =new Rectangle(5,1);
	(*rect).Draw();
	delete rect.	//手动删除分配得Rectangle对象内存

	return 0;	//该作用域代码结束后会r1对象会自动调用析构函数删除自身
}

```
> 输出：  
>	Draw a width = 3 height = 3  Rectangle.  
>	Draw a width = 1 height = 5  Rectangle.  
>	Rectangle object deleted.  
>	Rectangle object deleted.


